<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Interactive Physics — Reference Point & Distance</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body{font-family:system-ui,Arial,sans-serif;margin:0;background:#f6f7fb;color:#131522;line-height:1.5}
    header{background:#1f2937;color:#fff;padding:14px 18px}
    h1{margin:0;font-size:20px}
    .wrap{max-width:920px;margin:16px auto;padding:0 12px}
    canvas{display:block;width:100%;max-width:900px;height:320px;background:#cce6ff;border:2px solid #1f2937;border-radius:10px;margin:12px 0}
    .panel{background:#fff;border:1px solid #e5e7eb;border-radius:10px;padding:12px;margin-bottom:16px}
    .row{display:flex;gap:12px;flex-wrap:wrap}
    .cell{flex:1;min-width:240px}
    label{display:inline-block;min-width:150px}
    input[type=range]{width:220px}
    button{padding:6px 10px;margin:4px 2px;cursor:pointer;border:1px solid #ccc;border-radius:6px;background:#f3f4f6}
    .metric{background:#f3f4f6;border:1px solid #e5e7eb;border-radius:8px;padding:8px;margin-top:8px}
    code{background:#eef2ff;padding:0 4px;border-radius:4px}
    ul{padding-left:20px}
  </style>
</head>
<body>
  <header><h1>Interactive Physics Learning</h1></header>
  <div class="wrap">

    <!-- Concept 1 -->
    <div class="panel">
      <h2>Concept 1 — Reference Point & Motion</h2>
      <p><b>Motion</b> is the change in position of an object with respect to a <b>reference point</b> over time.</p>
      <ul>
        <li><b>Reference Point:</b> A stationary object or position used as a basis to measure motion.</li>
        <li><b>Relative Motion:</b> Motion described in relation to a chosen reference point.</li>
        <li><b>Relative Velocity:</b> The velocity of one object as seen from another moving object, given by <code>v<sub>B|A</sub> = v<sub>B</sub> − v<sub>A</sub></code>.</li>
      </ul>
      <p><b>Example:</b> In a moving train, another train moving at the same speed in the same direction appears stationary.</p>
    </div>

    <canvas id="canvas1" width="900" height="320"></canvas>
    <div class="panel">
      <div class="row">
        <div class="cell">
          <h3>Controls</h3>
          <div><label>Observer A speed</label>
            <input type="range" id="obsASpeed" min="-5" max="5" step="0.1" value="0">
            <span id="obsASpeedValue">0</span> m/s
          </div>
          <div><label>Observer B speed</label>
            <input type="range" id="obsBSpeed" min="-5" max="5" step="0.1" value="0">
            <span id="obsBSpeedValue">0</span> m/s
          </div>
          <div><label>Object speed</label>
            <input type="range" id="objSpeed" min="-5" max="5" step="0.1" value="2">
            <span id="objSpeedValue">2</span> m/s
          </div>
          <button id="start1">Start</button>
          <button id="pause1">Pause</button>
          <button id="reset1">Reset</button>
        </div>
        <div class="cell">
          <h3>Metrics</h3>
          <div class="metric" id="mA"></div>
          <div class="metric" id="mB"></div>
        </div>
      </div>
    </div>

    <!-- Concept 2 -->
    <div class="panel">
      <h2>Concept 2 — Distance</h2>
      <p><b>Distance</b> is the total length of the path traveled by an object, irrespective of direction. It is always positive and is a scalar quantity.</p>
      <p><b>Formula:</b> <code>Distance = Total path length</code></p>
      <ul>
        <li>Running 400m on a straight track → Distance = 400m</li>
        <li>Walking 5m forward and 5m back → Distance = 10m</li>
      </ul>
    </div>

    <canvas id="canvas2" width="900" height="320"></canvas>
    <div class="panel">
      <div class="row">
        <div class="cell">
          <h3>Controls</h3>
          <div><label>Object speed</label>
            <input type="range" id="distSpeed" min="-5" max="5" step="0.1" value="2">
            <span id="distSpeedValue">2</span> m/s
          </div>
          <button id="start2">Start</button>
          <button id="pause2">Pause</button>
          <button id="reset2">Reset</button>
        </div>
        <div class="cell">
          <h3>Metrics</h3>
          <div class="metric" id="distMetric"></div>
          <div class="metric" id="timeMetric"></div>
          <div class="metric" id="avgSpeedMetric"></div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // ---- Concept 1 Simulation ----
    const C1 = document.getElementById('canvas1'), ctx1 = C1.getContext('2d');
    const obsA = { x:120, y:200, v:0, color:'#2563eb', label:'Observer A' };
    const obsB = { x:360, y:200, v:0, color:'#10b981', label:'Observer B' };
    const obj  = { x:720, y:200, v:2, color:'#ef4444', label:'Object' };
    let run1 = false;

    document.getElementById('obsASpeed').oninput = e => { obsA.v = parseFloat(e.target.value); obsASpeedValue.textContent = obsA.v.toFixed(2); };
    document.getElementById('obsBSpeed').oninput = e => { obsB.v = parseFloat(e.target.value); obsBSpeedValue.textContent = obsB.v.toFixed(2); };
    document.getElementById('objSpeed').oninput  = e => { obj.v  = parseFloat(e.target.value); objSpeedValue.textContent  = obj.v.toFixed(2); };
    document.getElementById('start1').onclick = () => run1 = true;
    document.getElementById('pause1').onclick = () => run1 = false;
    document.getElementById('reset1').onclick = () => { obsA.x=120; obsB.x=360; obj.x=720; run1=false; };

    function drawEntity(e, ctx){
      ctx.beginPath(); ctx.arc(e.x,e.y,14,0,Math.PI*2);
      ctx.fillStyle=e.color; ctx.fill(); ctx.stroke();
      ctx.fillStyle='#111827'; ctx.font='12px system-ui'; ctx.fillText(e.label, e.x-36, e.y-20);
    }
    function updateEntity(e){ e.x += e.v; if(e.x > C1.width+16) e.x = -16; if(e.x < -16) e.x = C1.width+16; }
    function loop1(){
      ctx1.clearRect(0,0,C1.width,C1.height);
      ctx1.strokeStyle='#9ca3af'; ctx1.setLineDash([8,8]);
      ctx1.beginPath(); ctx1.moveTo(20,240); ctx1.lineTo(C1.width-20,240); ctx1.stroke(); ctx1.setLineDash([]);
      if(run1){ updateEntity(obsA); updateEntity(obsB); updateEntity(obj); }
      drawEntity(obsA,ctx1); drawEntity(obsB,ctx1); drawEntity(obj,ctx1);
      mA.innerHTML = `<b>Relative to A:</b> ${(obj.v - obsA.v).toFixed(2)} m/s`;
      mB.innerHTML = `<b>Relative to B:</b> ${(obj.v - obsB.v).toFixed(2)} m/s`;
      requestAnimationFrame(loop1);
    }
    loop1();

    // ---- Concept 2 Simulation ----
    const C2 = document.getElementById('canvas2'), ctx2 = C2.getContext('2d');
    const distObj = { x:100, y:200, v:2, color:'#ef4444' };
    let totalDist = 0, prevX = distObj.x, run2 = false, lastT=null, simT=0;

    document.getElementById('distSpeed').oninput = e => { distObj.v = parseFloat(e.target.value); distSpeedValue.textContent = distObj.v.toFixed(2); };
    document.getElementById('start2').onclick = () => { run2 = true; lastT = null; };
    document.getElementById('pause2').onclick = () => run2 = false;
    document.getElementById('reset2').onclick = () => { distObj.x=100; totalDist=0; simT=0; prevX=100; run2=false; lastT=null; };

    function loop2(ts){
      ctx2.clearRect(0,0,C2.width,C2.height);
      ctx2.strokeStyle='#9ca3af'; ctx2.setLineDash([8,8]);
      ctx2.beginPath(); ctx2.moveTo(20,240); ctx2.lineTo(C2.width-20,240); ctx2.stroke(); ctx2.setLineDash([]);
      if(run2){
        if(lastT!==null) simT += (ts-lastT)/1000;
        distObj.x += distObj.v;
        totalDist += Math.abs(distObj.x - prevX);
        prevX = distObj.x;
        if(distObj.x > C2.width+16) distObj.x = -16;
        if(distObj.x < -16) distObj.x = C2.width+16;
      }
      lastT = ts;
      ctx2.beginPath(); ctx2.arc(distObj.x, distObj.y, 14, 0, Math.PI*2);
      ctx2.fillStyle = distObj.color; ctx2.fill(); ctx2.stroke();
      distMetric.innerHTML = `<b>Total Distance:</b> ${totalDist.toFixed(2)} px`;
      timeMetric.innerHTML = `<b>Time:</b> ${simT.toFixed(2)} s`;
      avgSpeedMetric.innerHTML = `<b>Average Speed:</b> ${(totalDist/(simT||1)).toFixed(2)} px/s`;
      requestAnimationFrame(loop2);
    }
    loop2();
  </script>
</body>
</html>
